{% extends "base.html" %}
{% block content %}

{% if current_user.is_authenticated %}

        <main class="main">
            <div class="page-header text-center" style="background-image: url('assets/images/page-header-bg.jpg')">
                <div class="container">
                    <h1 class="page-title">My Account<span>Shop</span></h1>
                </div>
                <!-- End .container -->
            </div>
            <!-- End .page-header -->
            <nav aria-label="breadcrumb" class="breadcrumb-nav mb-3">
                <div class="container">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                        <li class="breadcrumb-item"><a href="#">Shop</a></li>
                        <li class="breadcrumb-item active" aria-current="page">
                            My Account
                        </li>
                    </ol>
                </div>
                <!-- End .container -->
            </nav>
            <!-- End .breadcrumb-nav -->

            <div class="page-content">
                
                <div class="dashboard">
                    <div class="container">
                        <div class="row">
                            <aside class="col-md-4 col-lg-3">
                                <ul class="nav nav-dashboard flex-column mb-3 mb-md-0" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="tab-dashboard-link" data-toggle="tab"
                                            href="#tab-dashboard" role="tab" aria-controls="tab-dashboard"
                                            aria-selected="true">Dashboard</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="tab-orders-link" data-toggle="tab" href="#tab-orders"
                                            role="tab" aria-controls="tab-orders" aria-selected="false">Orders</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="tab-downloads-link" data-toggle="tab"
                                            href="#tab-downloads" role="tab" aria-controls="tab-downloads"
                                            aria-selected="false">Downloads</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="tab-address-link" data-toggle="tab" href="#tab-address"
                                            role="tab" aria-controls="tab-address" aria-selected="false">Adresses</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="tab-account-link" data-toggle="tab" href="#tab-account"
                                            role="tab" aria-controls="tab-account" aria-selected="false">Account
                                            Details</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{{ url_for('users.logout') }}">Sign Out</a>
                                    </li>
                                </ul>
                            </aside>
                            <!-- End .col-lg-3 -->

                            <div class="col-md-8 col-lg-9">
                                <div class="tab-content">
                                    {% include 'inc/error_mess.html' %}
                                    <div class="tab-pane fade show active" id="tab-dashboard" role="tabpanel"
                                        aria-labelledby="tab-dashboard-link">
                                        <p>
                                            Hello
                                            <span class="font-weight-normal text-dark">{{ current_user.firstname }}!</span>                                            </span>
                                            (not
                                            <span class="font-weight-normal text-dark">{{ current_user.firstname }}</span>?
                                            <a href="{{ url_for('users.logout') }}">Log out</a>)
                                        </p>
                                    </div>
                                    <!-- .End .tab-pane -->

                                    <div class="tab-pane fade" id="tab-orders" role="tabpanel"
                                        aria-labelledby="tab-orders-link">
                                        <p>No order has been made yet.</p>
                                        <a href="/" class="btn btn-outline-primary-2"><span>GO SHOP</span><i
                                                class="icon-long-arrow-right"></i></a>
                                    </div>
                                    <!-- .End .tab-pane -->

                                    <div class="tab-pane fade" id="tab-downloads" role="tabpanel"
                                        aria-labelledby="tab-downloads-link">
                                        <p>No downloads available yet.</p>
                                        <a href="/" class="btn btn-outline-primary-2"><span>GO SHOP</span><i
                                                class="icon-long-arrow-right"></i></a>
                                    </div>
                                    <!-- .End .tab-pane -->

                                    <div class="tab-pane fade" id="tab-address" role="tabpanel"
                                        aria-labelledby="tab-address-link">
                                        <p>
                                            The following addresses will be used on the checkout
                                            page by default.
                                        </p>

                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="card card-dashboard">
                                                    <div class="card-body">
                                                        <h3 class="card-title">Billing Address</h3>
                                                        <!-- End .card-title -->

                                                        <p>
                                                            User Name<br />
                                                            User Company<br />
                                                            John str<br />
                                                            New York, NY 10001<br />
                                                            1-234-987-6543<br />
                                                            yourmail@mail.com<br />
                                                            <a href="#">Edit <i class="icon-edit"></i></a>
                                                        </p>
                                                    </div>
                                                    <!-- End .card-body -->
                                                </div>
                                                <!-- End .card-dashboard -->
                                            </div>
                                            <!-- End .col-lg-6 -->

                                            <div class="col-lg-6">
                                                <div class="card card-dashboard">
                                                    <div class="card-body">
                                                        <h3 class="card-title">Shipping Address</h3>
                                                        <!-- End .card-title -->

                                                        <p>
                                                            You have not set up this type of address yet.<br />
                                                            <a href="#">Edit <i class="icon-edit"></i></a>
                                                        </p>
                                                    </div>
                                                    <!-- End .card-body -->
                                                </div>
                                                <!-- End .card-dashboard -->
                                            </div>
                                            <!-- End .col-lg-6 -->
                                        </div>
                                        <!-- End .row -->
                                    </div>
                                    <!-- .End .tab-pane -->
                                   
                                    <div class="tab-pane fade" id="tab-account" role="tabpanel"
                                        aria-labelledby="tab-account-link">
                                        <div class="form-group"style="
                                        text-align: -webkit-center;
                                        background: transparent;
                                    ">
                                            <img src="{{profile_image}}" alt="profileImage"style="
                                            max-height: 70px;
                                            max-width: 101px;
                                            border-radius: 88px;
                                        ">
                                        </div>
                                        <form  method="POST" action = "" enctype="multipart/form-data">
                                            {{ form.hidden_tag() }}
                                            <div class="form-group">
                                                <label for="username" class="form-label">Username</label>
                                                <input type="text" class="form-control" id="username" value="{{ current_user.username }}" readonly>
                                            </div>
                                            <div class="form-group">
                                              {{ form.firstname.label(class="form-group") }}
                                              {{form.firstname(class='form-control')  }}
                                            </div>
                                            <div class="form-group">
                                                {{ form.lastname.label(class="form-group") }}
                                                {{form.lastname(class='form-control')  }}
                                              </div>
                                            <div class="form-group">
                                                <label for="email" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="email" value="{{ current_user.email }}" readonly>
                                            </div>
                                            <div class="form-group">
                                              {{ form.picture.label(class="form-group") }}
                                              {{ form.picture(class="form-control-file") }}
                                            </div>
                                            <div class="form-group">
                                                {{ form.submit(class="btn btn-primary") }} 
                                            </div>
                                          </form>
                                    </div>
                                    <!-- .End .tab-pane -->
                                </div>
                            </div>
                            <!-- End .col-lg-9 -->
                        </div>
                        <!-- End .row -->
                    </div>
                    <!-- End .container -->
                </div>
                <!-- End .dashboard -->
            </div>
            <!-- End .page-content -->
        </main>
        <!-- End .main -->

{% else %}
<p>Please login or register to access this page</p>
{% endif %}
{% endblock %}